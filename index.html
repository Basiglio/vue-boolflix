<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Langar&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.js" integrity="sha512-bYkaBWaFtfPIMYt9+CX/4DWgfrjcHinjerNYxQmQx1VM76eUsPPKZa5zWV8KksVkBF/DaHSADCwil2J5Uq2ctA==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style/style.css">
    <title></title>
  </head>
  <body>
    <div id="app">
      <header>
        <img src="https://logos-world.net/wp-content/uploads/2020/04/Netflix-Logo.png" alt="top_logo">
        <div class="search">
          <input type="text" value="" placeholder="Cerca un film" v-model="message" v-on:keyup.enter="search">
          <button type="button" name="button" @click="search">Vai</button>
        </div>
      </header>
      <main id="app">
        <div class="film" v-for= "(film, index) in films">
          <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
          <template v-if="films.length > 0">
            <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
            <div class="film_cover">
              <!-- SE FILM.POSTER_PATh Ã¨ UGUALE A NULL STAMPA QUESTO -->
              <div class="cover_not_found" v-if="film.poster_path == null ">
                <h2>{{film.title}} {{film.name}}</h2>
                <img id="cover_error" src="https://www.comesifasefaidate.it/img/error-404-not-found-logo.png" alt="404">
                <h3>LOCANDINA NON TROVATA</h3>
              </div>
              <!-- ALTRIMENTO STAMPA LA COPERTINA -->
              <img :src="'https://image.tmdb.org/t/p/w220_and_h330_face/' + film.poster_path"  alt="label" v-else>
            </div>
            <h4 class="title">{{film.title}} {{film.name}}</h4>
            <!-- SE IL TITOLO ORIGINALE NON FOSSE UGUALE AL TITOLO, STAMPALO -->
            <h4 class="title" v-if="film.title != film.original_title">Titolo Originale: <br> {{film.original_title}}</h4>
            <h5 id="languages">Lingua Originale:</h5>
            <img class="language_icon" src="https://images.emojiterra.com/openmoji/v12.2/512px/1f1ec-1f1e7.png" alt="language_flag_en" v-if="film.original_language == 'en'">
            <img class="language_icon" src="https://images.emojiterra.com/openmoji/v12.2/512px/1f1ee-1f1f9.png" alt="language_flag_it" v-else-if="film.original_language == 'it'">
            <div class="stars">
              <h5>Voto:</h5>
              <!-- GESTIONE VOTO DEL FILM TRAMITE STELLE -->
              <template id="stars_average">
                <template v-if="Math.ceil(film.vote_average) < 2">
                  <i class="fas fa-star"></i>
                  <i class="far fa-star"></i>
                  <i class="far fa-star"></i>
                  <i class="far fa-star"></i>
                  <i class="far fa-star"></i>
                </template>
                <template v-if="Math.ceil(film.vote_average) > 2 && film.vote_average <= 4">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="far fa-star"></i>
                  <i class="far fa-star"></i>
                  <i class="far fa-star"></i>
                </template>
                <template v-if="Math.ceil(film.vote_average) > 4 && film.vote_average <= 6">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="far fa-star"></i>
                  <i class="far fa-star"></i>
                </template>
                <template v-if="Math.ceil(film.vote_average) > 6 && film.vote_average <= 8">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="far fa-star"></i>
                </template>
                <template v-if="Math.ceil(film.vote_average) > 8 && film.vote_average <= 10">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </template>
              </template>
            </div>
            <div class="review_film">
              <h5>Recensione:</h5>
              <p>{{film.overview}}<p>
            </div>
          </template>
          <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
          <template v-else="films.length == 0">
            <h2 >Il film cercato non esiste</h2>
          </template>
          <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
        </div>
      </main>
    </div>
    <script src="js/myscript.js" charset="utf-8"></script>
  </body>
</html>
